// Code generated by kk; DO NOT EDIT.

package config

import (
	"net/http"
	{{if eq .RouterType "chi"}}
	"github.com/go-chi/chi/v5"
	{{else if eq .RouterType "gin"}}
	"github.com/gin-gonic/gin"
	{{end -}}
	"{{.ModulePath}}/internal/api"
	{{- range .Packages }}
	"{{$.ModulePath}}/{{.RelPath}}"
  	{{- end }}
)

func ConfigureRouter(a *api.API) http.Handler {
	{{- if eq .RouterType "chi"}}
	r := chi.NewRouter()
	ConfigureMiddleware(r)
	{{- range .Packages }}
	{{.Name}}.ConfigureRouter(a, r)
  	{{- end }}

	{{- if .WSPackages}}
	{{- range .WSPackages}}
	r.HandleFunc({{.RoutePath}}, a.{{.NameCaps}}.Handler)
	{{- end}}
	{{- end}}
	return r
	{{- else if eq .RouterType "gin"}}
	ge := gin.Default()
	ConfigureMiddleware(ge)
	return ge.Handler()
	{{- else}}
	return nil
	{{- end}}
}
